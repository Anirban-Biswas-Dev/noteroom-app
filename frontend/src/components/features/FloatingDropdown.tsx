import Backdrop from "@components/Backdrop";
import React from "react";

function DropdownItem({ label, icon }: { label: string, icon: React.ReactElement; }) {
	return (
		<span className="item
			flex w-auto items-center gap-3
			p-2 pr-10 rounded-md hover:bg-gray-100 active:bg-gray-100
			cursor-pointer font-sans
		">
			<div className="icon">
				{React.cloneElement(icon, {
					className: "w-[24px] h-[24px]",
				})}
			</div>
			<div className="label font-sans">
				<span>{label}</span>
			</div>
		</span>
	);
}

function DropdownItemDivider() {
	return <div className="-mx-2 w-auto h-px border border-gray-200"></div>;
}

export default function FloatingDropdown({ close }: { close: () => void }) {

	return (
		<>
			<div className={`floating-dropdown
				bg-white
				fixed bottom-0 left-1/2 -translate-x-1/2 z-50
				h-auto w-[95%]
				flex flex-col gap-1
				border-2 border-gray-300 p-2
				rounded-[10px_10px_0_0]

				sm:w-[80%]
				md:w-[80%]
				lg:w-[60%]

				xl:absolute xl:top-[130%] xl:right-3 xl:bottom-auto xl:left-auto xl:translate-x-0
				xl:h-auto xl:w-max
				xl:rounded-md xl:shadow-[0_0_5px_rgba(0,0,0,0.3)] xl:border-none
			`}>
				<div className="xl:hidden flex h-2 w-full justify-center">
					<div className="w-[30%] bg-[#D8D8D8] rounded-full active:bg-gray-700" onClick={close}></div>
				</div>

				<DropdownItem
					label="Save"
					icon={
						<svg
							width="20"
							height="20"
							viewBox="0 0 20 20"
							fill="none"
							xmlns="http://www.w3.org/2000/svg"
						>
							<path
								fill-rule="evenodd"
								clip-rule="evenodd"
								d="M8.15536 2.5H11.842C12.5241 2.49999 13.0871 2.49998 13.5454 2.53804C14.0215 2.57758 14.4589 2.66247 14.8686 2.87529C15.4774 3.19154 15.9738 3.68794 16.2901 4.29675C16.5029 4.70645 16.5878 5.14382 16.6273 5.61994C16.6654 6.07827 16.6654 6.64122 16.6654 7.32331V14.6856C16.6654 15.4879 16.6654 16.1463 16.6214 16.6466C16.58 17.1181 16.4885 17.674 16.122 18.0763C15.6717 18.5706 15.0114 18.8186 14.3471 18.7432C13.8063 18.6818 13.3714 18.3237 13.0297 17.9961C12.6672 17.6485 12.2336 17.1531 11.7053 16.5492L11.391 16.19C11.0289 15.7762 10.7921 15.5068 10.5959 15.3184C10.4059 15.1359 10.3159 15.0922 10.2705 15.0766C10.0944 15.0158 9.903 15.0158 9.72688 15.0766C9.68151 15.0922 9.59148 15.1359 9.40145 15.3184C9.20525 15.5068 8.96854 15.7762 8.60643 16.19L8.29211 16.5492C7.76377 17.1531 7.33023 17.6485 6.96767 17.9961C6.62596 18.3237 6.19111 18.6818 5.65033 18.7432C4.98595 18.8186 4.32574 18.5706 3.8754 18.0763C3.50885 17.674 3.41743 17.1181 3.37599 16.6466C3.33201 16.1463 3.33202 15.4879 3.33203 14.6856V7.32333C3.33202 6.64122 3.33201 6.07828 3.37007 5.61994C3.40961 5.14382 3.4945 4.70645 3.70732 4.29675C4.02357 3.68794 4.51997 3.19154 5.12878 2.87529C5.53848 2.66247 5.97585 2.57758 6.45197 2.53804C6.91031 2.49998 7.47326 2.49999 8.15536 2.5ZM6.58991 4.19899C6.21871 4.22982 6.02922 4.28567 5.89707 4.35431C5.59267 4.51244 5.34447 4.76064 5.18634 5.06504C5.1177 5.19719 5.06185 5.38668 5.03102 5.75788C4.99937 6.13905 4.9987 6.63248 4.9987 7.35833V14.6438C4.9987 15.4982 4.99948 16.0824 5.03625 16.5007C5.06651 16.8449 5.11477 16.953 5.11909 16.9662C5.2047 17.0527 5.32397 17.0976 5.44541 17.0888C5.45731 17.0817 5.56483 17.0321 5.81429 16.793C6.1174 16.5024 6.50268 16.0633 7.06528 15.4203L7.3753 15.066C7.70781 14.686 7.99227 14.3609 8.24719 14.1161C8.51418 13.8598 8.80973 13.6299 9.18323 13.5011C9.71159 13.3187 10.2858 13.3187 10.8142 13.5011C11.1877 13.6299 11.4832 13.8598 11.7502 14.1161C12.0051 14.3609 12.2896 14.686 12.6221 15.066L12.9321 15.4203C13.4947 16.0633 13.88 16.5024 14.1831 16.793C14.4326 17.0321 14.5401 17.0817 14.552 17.0888C14.6734 17.0976 14.7927 17.0527 14.8783 16.9662C14.8826 16.953 14.9309 16.8449 14.9611 16.5007C14.9979 16.0824 14.9987 15.4982 14.9987 14.6438V7.35833C14.9987 6.63248 14.998 6.13905 14.9664 5.75788C14.9355 5.38668 14.8797 5.19719 14.8111 5.06504C14.6529 4.76064 14.4047 4.51244 14.1003 4.35431C13.9682 4.28567 13.7787 4.22982 13.4075 4.19899C13.0263 4.16734 12.5329 4.16667 11.807 4.16667H8.19037C7.46451 4.16667 6.97108 4.16734 6.58991 4.19899Z"
								fill="#464646"
							/>
						</svg>
					}
				/>
				<DropdownItem
					label="Save to Space"
					icon={
						<svg
							width="17"
							height="17"
							viewBox="0 0 17 17"
							fill="none"
							xmlns="http://www.w3.org/2000/svg"
						>
							<g opacity="0.52">
								<rect
									x="0.255127"
									y="0.255127"
									width="15.8179"
									height="15.8179"
									stroke="#191919"
									stroke-width="0.510254"
								/>
								<path
									d="M1.01953 0.509766H15.5618L9.43872 4.08154L1.01953 0.509766Z"
									fill="#1A1A1A"
								/>
								<path
									d="M1.01953 2.29565L2.29517 1.02002L9.43872 4.08154L15.5618 0.509766L10.2041 6.12256L1.01953 2.29565Z"
									fill="#191919"
									fill-opacity="0.4"
								/>
								<path
									d="M2.03906 4.33667L3.05957 3.06104L10.2031 6.12256L15.5608 0.509766L11.2236 8.16357L2.03906 4.33667Z"
									fill="#282828"
									fill-opacity="0.54"
								/>
								<path
									d="M3.0625 6.37769L3.82788 5.10205L11.2266 8.16357L15.5637 0.509766L11.9919 9.94946L3.0625 6.37769Z"
									fill="#2D2D2D"
									fill-opacity="0.39"
								/>
								<path
									d="M3.57031 10.2051L6.12158 15.8179H3.57031V10.2051Z"
									fill="#191919"
								/>
								<path
									d="M3.57031 10.2051L15.8164 15.0858V15.8179H6.12158L3.57031 10.2051Z"
									fill="url(#paint0_linear_10516_5789)"
								/>
							</g>
							<defs>
								<linearGradient
									id="paint0_linear_10516_5789"
									x1="9.69336"
									y1="10.2051"
									x2="9.69336"
									y2="15.8179"
									gradientUnits="userSpaceOnUse"
								>
									<stop stop-color="#2D2D2D" />
									<stop offset="1" stop-color="#282828" />
								</linearGradient>
							</defs>
						</svg>
					}
				/>
				<DropdownItemDivider />
				<DropdownItem
					label="Hide Post"
					icon={
						<svg
							width="24"
							height="24"
							viewBox="0 0 24 24"
							fill="none"
							xmlns="http://www.w3.org/2000/svg"
						>
							<path
								fill-rule="evenodd"
								clip-rule="evenodd"
								d="M3.61399 4.21069C3.17804 3.87162 2.54976 3.95016 2.21069 4.38611C1.87162 4.82205 1.95016 5.45033 2.38611 5.7894L4.66386 7.56099C3.78436 8.54537 3.03065 9.68049 2.41854 10.8961L2.39686 10.9389C2.30554 11.119 2.18764 11.3515 2.1349 11.6382C2.09295 11.8662 2.09295 12.1339 2.1349 12.3619C2.18764 12.6486 2.30554 12.8811 2.39686 13.0612L2.41854 13.104C4.35823 16.956 7.71985 20 12.0001 20C14.2313 20 16.2129 19.1729 17.8736 17.8352L20.3861 19.7894C20.8221 20.1285 21.4503 20.0499 21.7894 19.614C22.1285 19.178 22.0499 18.5498 21.614 18.2107L3.61399 4.21069ZM16.2411 16.5655L14.4434 15.1673C13.7676 15.6894 12.9201 16 12.0001 16C9.79092 16 8.00006 14.2092 8.00006 12C8.00006 11.4354 8.11706 10.8981 8.32814 10.411L6.24467 8.7905C5.46659 9.63977 4.77931 10.6548 4.20485 11.7956C4.17614 11.8526 4.15487 11.8949 4.13694 11.9316C4.12114 11.9641 4.11132 11.9853 4.10491 12C4.11132 12.0148 4.12114 12.036 4.13694 12.0685C4.15487 12.1052 4.17614 12.1475 4.20485 12.2045C5.9597 15.6895 8.76726 18 12.0001 18C13.5314 18 14.9673 17.4816 16.2411 16.5655ZM10.0187 11.7259C10.0064 11.8155 10.0001 11.907 10.0001 12C10.0001 13.1046 10.8955 14 12.0001 14C12.2667 14 12.5212 13.9479 12.7538 13.8532L10.0187 11.7259Z"
								fill="#0F1729"
							/>
							<path
								d="M10.9506 8.13914L15.9995 12.0661C15.9999 12.0441 16.0001 12.0221 16.0001 12C16.0001 9.79091 14.2092 8.00005 12.0001 8.00005C11.6369 8.00005 11.285 8.04845 10.9506 8.13914Z"
								fill="#0F1729"
							/>
							<path
								d="M19.7953 12.2045C19.4494 12.8914 19.0626 13.5327 18.6397 14.1196L20.2175 15.3467C20.7288 14.6457 21.1849 13.8918 21.5816 13.104L21.6033 13.0612C21.6946 12.8811 21.8125 12.6486 21.8652 12.3619C21.9072 12.1339 21.9072 11.8662 21.8652 11.6382C21.8125 11.3515 21.6946 11.119 21.6033 10.9389L21.5816 10.8961C19.6419 7.04408 16.2803 4.00005 12.0001 4.00005C10.2848 4.00005 8.71714 4.48887 7.32934 5.32264L9.05854 6.66757C9.98229 6.23482 10.9696 6.00005 12.0001 6.00005C15.2329 6.00005 18.0404 8.31064 19.7953 11.7956C19.824 11.8526 19.8453 11.8949 19.8632 11.9316C19.879 11.9641 19.8888 11.9853 19.8952 12C19.8888 12.0148 19.879 12.036 19.8632 12.0685C19.8453 12.1052 19.824 12.1475 19.7953 12.2045Z"
								fill="#0F1729"
							/>
						</svg>
					}
				/>
				<DropdownItemDivider />
				<DropdownItem
					label="Block"
					icon={
						<svg
							width="18"
							height="18"
							viewBox="0 0 18 18"
							fill="none"
							xmlns="http://www.w3.org/2000/svg"
						>
							<g clip-path="url(#clip0_10517_5714)">
								<path
									d="M17.9691 9.00018C17.9691 13.9547 13.9528 17.9711 8.99823 17.9711C4.04369 17.9711 0.0273438 13.9547 0.0273438 9.00018C0.0273438 4.04564 4.04369 0.0292969 8.99823 0.0292969C13.9528 0.0292969 17.9691 4.04564 17.9691 9.00018Z"
									fill="white"
									stroke="black"
									stroke-width="0.00978261"
									stroke-linecap="square"
								/>
								<path
									d="M9.00047 0.286527C6.85518 0.286527 4.89083 1.06749 3.37445 2.36046C3.33469 2.39436 3.29525 2.42854 3.25612 2.46316C3.24047 2.47706 3.22482 2.49118 3.20916 2.50524C3.17567 2.53529 3.14249 2.56562 3.10933 2.59621C3.10054 2.60435 3.09171 2.61246 3.08294 2.62066C3.04381 2.65713 3.00493 2.694 2.96652 2.73119C2.92245 2.77383 2.87859 2.81678 2.83542 2.86032C2.79307 2.90305 2.75071 2.94585 2.70923 2.98945C2.66622 3.03472 2.62412 3.08121 2.58207 3.12738C2.57725 3.13273 2.57218 3.13774 2.56739 3.14306C2.53102 3.18313 2.49539 3.22352 2.45977 3.26421C2.42089 3.30898 2.38332 3.35405 2.34532 3.39945C2.34385 3.40101 2.34191 3.40258 2.34044 3.40414C1.07274 4.91865 0.308594 6.87047 0.308594 9.00073C0.308594 13.811 4.20214 17.714 9.00047 17.714C11.1504 17.714 13.1182 16.9292 14.6362 15.6313L14.6371 15.6322C14.6493 15.6219 14.6615 15.6116 14.6734 15.6009C14.6784 15.5969 14.6831 15.5925 14.6882 15.5884C14.7176 15.5627 14.747 15.5371 14.7761 15.5111C14.7993 15.4904 14.8218 15.4701 14.8447 15.4494C14.8512 15.4435 14.8578 15.4378 14.8641 15.4319C14.8944 15.404 14.9242 15.3759 14.9542 15.3477C14.9812 15.3223 15.0078 15.297 15.0344 15.2713C15.0381 15.2679 15.0416 15.2641 15.0453 15.2607C15.0791 15.2275 15.1123 15.1943 15.1458 15.1608C15.1558 15.1511 15.1655 15.1414 15.1752 15.1314C15.2144 15.0919 15.2532 15.0515 15.2917 15.0112C15.2955 15.0071 15.2995 15.0033 15.3036 14.9993C15.3474 14.9529 15.3916 14.906 15.4344 14.8584C15.4739 14.8149 15.5124 14.7707 15.5509 14.7266C15.5581 14.7182 15.5653 14.7103 15.5725 14.7019C15.6054 14.664 15.6379 14.6252 15.6702 14.5867C16.9327 13.0737 17.6934 11.126 17.6934 9.00073C17.6934 4.19051 13.7988 0.286133 9.00047 0.286133V0.286527ZM9.00047 2.22935C12.7291 2.22935 15.7553 5.26299 15.7553 9.00073C15.7553 10.5926 15.2072 12.0567 14.289 13.213L4.75685 3.73472C5.91699 2.79377 7.39299 2.22929 9.00047 2.22929V2.22935ZM3.72193 4.77778L13.256 14.258C12.094 15.2046 10.6133 15.7722 9.00047 15.7722C5.27181 15.7722 2.24656 12.7385 2.24656 9.00073C2.24656 7.40421 2.79864 5.93572 3.72193 4.77746V4.77778Z"
									fill="#CC0000"
								/>
							</g>
							<defs>
								<clipPath id="clip0_10517_5714">
									<rect width="18" height="18" fill="white" />
								</clipPath>
							</defs>
						</svg>
					}
				/>
				<DropdownItem
					label="Report"
					icon={
						<svg
							width="20"
							height="20"
							viewBox="0 0 20 20"
							fill="none"
							xmlns="http://www.w3.org/2000/svg"
						>
							<path
								d="M4.43606 8.06878C6.44746 4.50966 7.45316 2.7301 8.83322 2.27201C9.59239 2.02001 10.4102 2.02001 11.1694 2.27201C12.5495 2.7301 13.5551 4.50966 15.5666 8.06878C17.578 11.6279 18.5836 13.4074 18.282 14.8574C18.116 15.6552 17.7071 16.3787 17.1138 16.9244C16.0355 17.9164 14.0241 17.9164 10.0013 17.9164C5.97851 17.9164 3.96711 17.9164 2.88877 16.9244C2.29554 16.3787 1.88663 15.6552 1.72066 14.8574C1.41896 13.4074 2.42466 11.6279 4.43606 8.06878Z"
								stroke="#CC0000"
								stroke-width="1.36864"
							/>
							<path
								d="M10.2044 14.1667V10.8333C10.2044 10.4405 10.2044 10.2441 10.0823 10.122C9.96034 10 9.76393 10 9.37109 10"
								stroke="#CC0000"
								stroke-width="1.36864"
								stroke-linecap="round"
								stroke-linejoin="round"
							/>
							<path
								d="M9.99609 7.5H10.004"
								stroke="#CC0000"
								stroke-width="1.36864"
								stroke-linecap="round"
								stroke-linejoin="round"
							/>
						</svg>
					}
				/>
			</div>

			<Backdrop zIndex={40} onClick={close} extendedClass="xl:hidden block" />
		</>
	);
}
